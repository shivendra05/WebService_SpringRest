package com;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;
import org.springframework.context.ConfigurableApplicationContext;

import com.entity.CustomerDetails;
import com.repo.CustomerRepo;

@SpringBootApplication
public class Application {

	public static void main(String[] args) {
		CustomerRepo repo= null;
		ApplicationContext ctx= null;
		Iterable<CustomerDetails> details=null;
		Iterable<Object[]> custValues=null;
		ctx = SpringApplication.run(Application.class, args);
		repo = ctx.getBean(CustomerRepo.class);

		try {
			System.out.println("--------------Get All Customers------------------");
			details = repo.getCustomers();
			details.forEach(System.out::println);
			System.out.println("--------------Get By Address/City------------------");
			details = repo.getCustomersByAddr("rewa");
			System.out.println("--------------Get By ID------------------");
			details = repo.getCustomersByID(42);
			details.forEach(System.out::println);
			System.out.println("--------------Get By between------------------");
			details = repo.getCustomersByIDBetween(41, 43);
			details.forEach(System.out::println);
			System.out.println("--------------Get By In------------------");
			details = repo.getCustomersByIDBetween(40, 43);
			details.forEach(System.out::println);
			System.out.println("--------------Get By like------------------");
			details = repo.getCustomersByLike();
			details.forEach(System.out::println);
			System.out.println("--------------Get By range- namedparam------------------");
			details = repo.getCustomersByIDInRange(40, 43);
			details.forEach(System.out::println);
			System.out.println("--------------Get cNO and cAdd------------------");
			custValues = repo.getCnocAddeByLike();
			for (Object[] objects : custValues) {
				System.out.println(objects[0]);;
			}
			System.out.println("--------------Get cadd------------------");
			Iterable<String> cname = repo.getcNoByID(42);
			cname.forEach(System.out::println);
		}catch (Exception e) {

			e.printStackTrace();
		}
		((ConfigurableApplicationContext) ctx).close();
	}

}
